---
import "../styles/site.css";
// import '../index.css';
import PostHog from './posthog.astro'
import Analytics from './analytics.astro';

const {
  title,
  description,
  keywords,
  ogTitle,
  ogDescription,
  ogType,
  ogImage,
  canonical,
  robots,
} = Astro.props;

const pageTitle = title ?? 'Inspectr - Simplifying API and Webhook debugging!';
const pageDescription =
  description ??
  'Simplifying API and Webhook Debugging. Capture real-time traffic, inspect requests, and expose local APIs in seconds.';
const pageKeywords =
  keywords ??
  'Inspectr, API debugging, Webhook debugging, Inspectr.dev, API inspection, request monitoring, API proxy, HTTP proxy tool, OpenAPI mock responses, request replay';
const pageUrl = (new URL(Astro.url.pathname, Astro.site)).toString();
const canonicalUrl = canonical ?? pageUrl;
const pageOgTitle = ogTitle ?? pageTitle;
const pageOgDescription = ogDescription ?? pageDescription;
const pageOgType = ogType ?? 'website';
const pageRobots = robots ?? 'index, follow';
---

<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/png" href="/favicon.png" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>{pageTitle}</title>
  <meta name="keywords" content={pageKeywords}>
  <meta name="description" content={pageDescription}>
  <meta name="robots" content={pageRobots}>

  <meta property="og:title" content={pageOgTitle}>
  <meta property="og:description" content={pageOgDescription}>
  <meta property="og:type" content={pageOgType}>
  <meta property="og:url" content={canonicalUrl}>
  {ogImage ? <meta property="og:image" content={ogImage} /> : null}

  <link rel="sitemap" href="/sitemap.xml" />

  <link rel="canonical" href={canonicalUrl} />
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap"
    rel="stylesheet">
  <PostHog />
</head>
<body>
  <slot />
</body>
<Analytics />
</html>
