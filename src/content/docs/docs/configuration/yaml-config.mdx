---
title: YAML Configuration
description: 'Learn how to configure Inspectr using a YAML file.'
---

[//]: # '# üìù YAML Configuration (.inspectr.yaml)'

Inspectr supports configuration via a YAML file, allowing you to store and share common setups without repeating CLI flags.

By default, Inspectr automatically loads a `.inspectr.yaml` file file from the current working directory. This means you can simply run `inspectr`and Inspectr will start using the configuration defined in that file.

---

## How It Works

- If `--config` is not provided and `.inspectr.yaml` exists in the working directory, it is loaded automatically.
- You can specify a different file with `--config`.
- CLI flags override YAML values only when the flag differs from its default; otherwise YAML wins.

---

## Example `.inspectr.yaml`

```yaml
listen: ':8080'
backend: 'http://localhost:3000'
print: true
app: true
appPort: '4004'
expose: true
channel: 'hello-world'
channelCode: '87654321'
authEnabled: true
authSecret: 'letsgo'
apiSecret: 'changeme'
```

---

## Configuration Options

### Core Proxy Settings

| Key      | Type    | Description                                 |
| -------- | ------- | ------------------------------------------- |
| `listen` | string  | Address/port to listen on (e.g. `":8080"`)  |
| `backend`| string  | URL to forward requests to                  |
| `mirror` | boolean | Echo the incoming request back immediately  |
| `catch`  | boolean | Accept and log requests without forwarding  |

### Mocking Support

| Key           | Type    | Description                      |
| ------------- | ------- | -------------------------------- |
| `mockBackend` | string  | Path to OpenAPI spec for mocking |
| `mockDynamic` | boolean | Enable dynamic mock generation   |

### Public Exposure/Tunneling

| Key           | Type    | Description                                        |
|---------------|---------|----------------------------------------------------|
| `expose`      | boolean | Enable public exposure/tunnel via Inspectr Ingress |
| `channel`     | string  | Preferred subdomain on `in-spectr.dev`             |
| `channelCode` | string  | Security code for accessing your public endpoint   |

### Inspectr App UI & Command line logging

| Key       | Type    | Description                  |
|-----------|---------|------------------------------|
| `app`     | boolean | Enable Inspectr App UI       |
| `appPort` | string  | Port to serve the App UI     |
| `print`   | boolean | Print color-coded log output |

### Auth Guard

| Key            | Type    | Description                                         |
|----------------|---------|-----------------------------------------------------|
| `authEnabled`  | boolean | Enable API key authentication on all requests       |
| `authSecret`   | string  | Guard secret used to generate API keys              |
| `authTokenTTL` | integer | Guard token expiration time in hours (default `24`) |

### Security and Storage

| Key             | Type    | Description                                                     |
|-----------------|---------|-----------------------------------------------------------------|
| `apiSecret`     | string  | Secret for securing Inspectr‚Äôs internal API                     |
| `dataDir`       | string  | Base directory for Inspectr data (default `.inspectr`)          |
| `storePath`     | string  | Path to the operations store (default `.inspectr/.inspectr.db`) |
| `storeInMemory` | boolean | Store operations in memory only                                 |
| `backendCors`   | boolean | Allow backend to handle CORS requests                           |

## Start-up Options

| Flag              | Type   | Default                         | Description                                                                             |
|-------------------|--------|---------------------------------|-----------------------------------------------------------------------------------------|
| `rulesConfigPath` | string | (none)                          | Path to a rules YAML file to load at startup                                            |
| `command`         | string | (none)                          | Launch a command when Inspectr boots                                                    |
| `commandArgs`     | string |                                 | Arguments to pass to the managed command; repeatable                                    |
| `commandLogFile`  | string | `.inspectr-command-process.log` | Log file for the managed command. Defaults to `.inspectr/.inspectr-command-process.log` |
| `commandStopOnFailure` | boolean | `true` | Exit Inspectr when the managed command exits with a non-zero status                |

---

## Export

| Key         | Type    | Default   | Description                                              |
|-------------|---------|-----------|----------------------------------------------------------|
| `export`    | boolean | false     | Export operations to a timestamped JSON file on shutdown |
| `exportDir` | string  | `exports` | Directory to write export artifacts                      |

---

### Advanced Settings

| Key                | Type    | Description                                                            |
| ------------------ | ------- | ---------------------------------------------------------------------- |
| `logFile`          | string  | Write logs to this file instead of `.inspectr/inspectr.log`     |
| `logLevel`         | string  | Log verbosity: `debug`, `info`, `warn`, `error`, etc.                  |
| `httpTimeout`      | integer | Timeout in seconds when forwarding requests                            |
| `sessionExpiration`| integer | Session expiration time in hours (default `24`)                        |
| `gracePeriod`      | integer | Grace period for session cleanup in seconds (default `30`)             |

---

## Tips

- Commit `.inspectr.yaml` to version control for team use
- Avoid storing sensitive tokens (use env vars or secrets management)
- Use different configs per environment (e.g. `.inspectr.dev.yaml`, `.inspectr.prod.yaml`)

---

[//]: # '## üìö Related Topics'
[//]: #
[//]: # '* [CLI Options ‚Üí](/configuration/cli-options)'
[//]: # '* [Mocking APIs ‚Üí](/guides/mocking)'
[//]: # '* [Secure Exposure ‚Üí](/exposing/securing-exposure)'
